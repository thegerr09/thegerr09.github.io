!function(a){a.fn.extend({jqbar:function(e){var r=a.extend({animationSpeed:5e3,barLength:200,orientation:"h",barWidth:10,barColor:"red",label:"&nbsp;",value:100},e);return this.each(function(){function e(a){var e=parseInt(a.attr("data-value"));e>100&&(e=100,alert("max value cannot exceed 100 percent"));var l=r.barLength*e/100;if("h"==r.orientation)a.animate({width:l},{duration:2e3,step:function(a){var e=parseInt(a/r.barLength*100);isNaN(e)&&(e=0),t.find(".bar-percent").html(e+"%")}});else{var s=r.barLength-r.barLength*e/100;a.animate({top:s},{duration:2e3,step:function(a){var e=parseInt((r.barLength-parseInt(a))/r.barLength*100);isNaN(e)&&(e=0),t.find(".bar-percent").html(Math.abs(e)+"%")}}),t.find(".bar-percent").animate({top:s-n},2e3)}}var n=0,t=a(this);if("h"==r.orientation){t.addClass("jqbar horizontal").append('<span class="bar-label"></span><span class="bar-level-wrapper"><span class="bar-level"></span></span><span class="bar-percent"></span>');var l=(t.find(".bar-label").html(r.label),t.find(".bar-level").attr("data-value",r.value)),s=t.find(".bar-level-wrapper");l.css({height:r.barWidth,width:0,backgroundColor:r.barColor});var b=t.find(".bar-percent");b.html("0")}else{t.addClass("jqbar vertical").append('<span class="bar-percent"></span><span class="bar-level-wrapper"><span class="bar-level"></span></span><span class="bar-label"></span>');var l=(t.find(".bar-label").html(r.label),t.find(".bar-level").attr("data-value",r.value)),s=t.find(".bar-level-wrapper");t.css("height",r.barLength),l.css({height:r.barLength,top:r.barLength,width:r.barWidth,backgroundColor:r.barColor}),s.css({height:r.barLength,width:r.barWidth});var b=t.find(".bar-percent");b.html("0"),n=parseInt(b.outerHeight()),b.css({top:r.barLength-n+"px"})}e(l)})}})}($);
